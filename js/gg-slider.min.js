!function(i){var e={shift:0,step:1,cycling:!1,swipe:!1,prevBtn:".controller.prev",nextBtn:".controller.next",imgSize:"cover",animation:{type:"fade",speed:300,together:!0},pagination:{paginator:"",preview:!1,previewSize:"cover"},autoPlay:{timeOut:0,direction:"right",hoverPrevent:!0},visible:{xs:1,sm:1,md:1,lg:1}};i.fn.slider=function(t){function m(){0!=n.autoPlay.timeOut&&(w=setInterval(function(){k(n.autoPlay.direction)},n.autoPlay.timeOut))}function y(){i(window).width()<600?v=n.visible.xs:i(window).width()<900?v=n.visible.sm:i(window).width()<1200?v=n.visible.md:i(window).width()>=1200&&(v=n.visible.lg)}function C(){switch(n.animation.type){case"fade":i(f).hide().css("z-index",0),i(d[0]).show().css("z-index","1");break;case"scroll":i.each(f,function(e,t){e>=n.shift&&e<n.shift+v?i(t).css("opacity","1"):i(t).css("opacity","0")});break;default:return}}function x(){i(f).css("width",i(a).width()/v+"px"),"scroll"==n.animation.type&&(i(s).css("width",f.length*i(a).width()/v),i(s).css("left",-(i(a).width()/v*n.shift))),b()}function b(){if(0!=h.length){var e=i(f[0]).width()/i(f[0]).height();"cover"==n.imgSize?i.each(h,function(t,n){i(n).removeClass("wide").removeClass("tall");var a=i(n)[0].naturalWidth/i(n)[0].naturalHeight;a>e?i(n).addClass("wide"):e>a&&i(n).addClass("tall")}):"contain"==n.imgSize&&i(h).addClass("contain")}if(0!=p.length){var t=i(r[0]).width()/i(r[0]).height();"cover"==n.pagination.previewSize?i.each(p,function(e,n){i(n).removeClass("wide").removeClass("tall");var a=i(n).width()/i(n).height();a>t?i(n).addClass("wide"):t>a&&i(n).addClass("tall")}):"contain"==n.pagination.previewSize&&i(p).addClass("contain")}}function z(){switch(n.pagination.preview&&h.length!=f.length&&(console.error("Not all slides have images inside. Used default type of pagination."),n.pagination.preview=!1),i(c).wrap('<div class="paginator-box"></div>'),n.pagination.preview){case!0:i.each(h,function(e,t){var n=i("<div />",{"class":"page preview","data-page":e});previewImg=i(t).clone(),i(n).append(previewImg),i(c).append(n),p[e]=i(c).find(".preview").find("img")});break;case!1:0==r.length?i.each(f,function(e){var n=i("<button />",{"class":"page","data-page":e,text:e+1});c.append(n)}):i.each(r,function(e){i(this).attr("data-page",e)})}r=i(c).children(),I()}function I(){d=[],i(r).removeClass("active"),i.each(f,function(i,e){i>=n.shift&&i<n.shift+v&&(d[d.length]=e)}),i.each(r,function(e,t){i.each(d,function(n,a){e===parseInt(i(a).attr("data-slide"))&&i(t).addClass("active")})})}function k(e){if(n.cycling||e!==O()){switch(n.animation.type){case"fade":var t=f[n.shift];0==e||e>0?(t=f.filter("[data-slide="+e+"]"),n.shift=f.filter("[data-slide="+e+"]").index()):"prev"==e?(n.shift--,t=f[n.shift]):"next"==e&&(n.shift++,t=f[n.shift]),P(d[0],t);break;case"scroll":0==e||e>0?n.shift=e<n.shift?e:e-v+1:"prev"==e?0==n.shift?n.shift=f.length-v:(n.shift-=n.step>v?v:n.step,n.shift<0&&(n.shift=0)):"next"==e&&(n.shift+v==f.length?n.shift=0:(n.shift+=n.step>v?v:n.step,n.shift+v>f.length&&(n.shift=f.length-v))),i(f).css("opacity","1"),S()}O()}}function P(e,t){u++,g++,i(t).css("z-index",g+1),n.animation.together&&i(e).fadeOut(n.animation.speed),i(t).fadeIn(n.animation.speed,function(){i(e).hide(),u--,0==u&&(i(f).css("z-index","0"),i(this).css("z-index","1"),g=0)}),I()}function S(){var e=-(i(a).width()/v*n.shift);s.stop().animate({left:e},n.animation.speed,function(){i(r).removeClass("active"),C(),I()})}function O(){return"fade"==n.animation.type&&n.cycling&&(0==n.shift?B("left"):n.shift==f.length-1&&B("right")),l.removeClass("disabled"),o.removeClass("disabled"),0!=n.shift||n.cycling?n.shift!=f.length-v||n.cycling?!1:(o.addClass("disabled"),"next"):(l.addClass("disabled"),"prev")}function B(e){"left"==e?(i(s).prepend(f.last()),n.shift++):"right"==e&&(i(s).append(f.first()),n.shift--),f=i(s).find(".slide"),d[0]=f[n.shift]}var n=i.extend({},e,t),a=i(this),s=i(a).find(".slider-content"),f=i(s).find(".slide"),l=i(a).find(""+n.prevBtn+":not(.disabled)"),o=i(a).find(""+n.nextBtn+":not(.disabled)"),c=i(a).find(n.pagination.paginator),r=i(c).children(),d=[],h=[],p=[],v=1,u=0,g=0,w=0;i(l).addClass("controller"),i(o).addClass("controller"),i(c).addClass("paginator"),n.shift+v>f.length&&(n.shift=f.length-v),y(),i.each(f,function(e,t){i(t).attr("data-slide",e),e>=n.shift&&e<n.shift+v&&(d[d.length]=t);var a=i(t).children();i.each(a,function(e,t){"IMG"==i(a)[e].tagName&&(h[h.length]=t)})}),"scroll"==n.animation.type?(i(s).wrapInner('<div class="tape"></div>'),s=i(s).find(".tape")):"fade"!=n.animation.type&&"scroll"!=n.animation.type&&(console.error("Plugin does not support this type of animation: "+n.animation.type+". Used default type."),n.animation.type="fade",n.step=1),x(),C(),O(),0!=c.length&&z(),b(),l.click(function(){k("prev")}),o.click(function(){k("next")}),n.swipe&&(i(f).on("swiperight",function(){k("prev")}),i(f).on("swipeleft",function(){k("next")})),i.each(r,function(e,t){i(this).click(function(){i(t).hasClass("active")||(i(t).addClass("active"),k(e))})}),i(window).resize(function(){clearInterval(w),n.shift+v>f.length&&(n.shift=f.length-v),"scroll"==n.animation.type&&(y(),C()),I(),x(),m()}),n.autoPlay.timeOut&&(m(),n.autoPlay.hoverPrevent&&(i(f).hover(function(){clearInterval(w)},function(){m()}),i(l).hover(function(){clearInterval(w)},function(){m()}),i(o).hover(function(){clearInterval(w)},function(){m()}),i(r).hover(function(){clearInterval(w)},function(){m()})))}}(jQuery);
